
<div class="controleEstoque">
<app-header [title]="'Controle de Estoque'"></app-header>

<main>
    <!-- <div id="campo_pesquisa">
        <input type="text">
        <input type="button" value="Pesquisar">
    </div> -->

    <div id="titulo_tabela" class="borda_letra">
        <h2>Medicamentos no estoque</h2>
    </div>
    <div id="container_tabela">
        <table>
            <thead>
                <tr>
                    <th scope="col">Nome</th>
                    <th scope="col">Quantidade</th>
                    <th scope="col">Unidade</th>
                    <th scope="col">Data de validade</th>
                    <th scope="col"></th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let medicamento of medicamentos">
                    <td>{{ medicamento.nomeMedicamento }}</td>
                    <td>{{ medicamento.quantidade }}</td>
                    <td>{{ medicamento.unidade }}</td>
                    <td>{{ medicamento.dtVencimento | date : 'dd/MM/yyyy' }}</td>
                    <td id="btns">
                        <!-- <button type="button" class="btn btn-info">Editar</button> -->
                        @if(medicamento.quantidade > 0){
                          <button type="button" class="btn btn-dark" (click)="darBaixa(medicamento.id)">Dar baixa</button>
                        }
                        
                    </td>
                    <td>
                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal" (click)="descartarMedicamento(medicamento.id)">Descartar</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <a href="CadastroMedicamentos">
        <div id="btnCadastrarNovo">
            <button type="button" class="btn btn-warning">Cadastrar Medicamento</button>
        </div>
    </a>

</main>
<app-voltar></app-voltar>
<!-- Modal confirmação -->
<div class="modal" id="myModal" tabindex="-1" role="dialog"> 
    <div class="modal-dialog modal-dialog-centered mx-auto" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Confirmação</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Deseja prosseguir com essa ação?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary">Sim</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Não</button>
        </div>
      </div>
    </div>
  </div>

</div>